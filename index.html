<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS DOM</title>
    <style>
      body {
        height: 2000px;
        /* make body scrollable, the tooltip should work after the scroll */
      }

      .tooltip {
        position: fixed;
        padding: 10px 20px;
        border: 1px solid #bfd1d5;
        border-radius: 4px;
        text-align: center;
        font: italic 14px/1.3 sans-serif;
        color: #333;
        background: #fff;
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
      }
    </style>
  </head>
  <body>
    <h2>Tool tip</h2>

    <p>
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Impedit fugiat
      similique explicabo repudiandae aspernatur ut odio suscipit ex ad, minima
      veritatis sint iste, dolores esse inventore, tempore non vero deserunt
      autem repellendus.
    </p>
    <p>
      Lorem ipsum dolor sit amet consectetur adipisicing elit. A perferendis non
      excepturi. Placeat facilis praesentium tenetur odit iure.
    </p>

    <button data-tooltip="The tooltip is longer than the element">
      Short Button
    </button>

    <button data-tooltip="HTML <br> tooltip">Another button</button>

    <p>
      Scroll the page to make the buttons appear at the top, check if the
      tooltips show up correctly
    </p>

    <script>
      let tooltipElem;

      document.addEventListener('mouseover', function (event) {
        const target = event.target;

        // If we have tooltip HTML
        let tooltipHTML = target.dataset.tooltip;
        if (!tooltipHTML) {
          return;
        }

        // ... create the tooltip element
        tooltipElem = document.createElement('div');
        tooltipElem.className = 'tooltip';
        tooltipElem.innerHTML = tooltipHTML;
        document.body.append(tooltipElem);

        // Position it above the annmotated element (top-center)
        const coords = target.getBoundingClientRect();

        let left =
          coords.left + (target.offsetWidth - tooltipElem.offsetWidth) / 2;
        if (left < 0) {
          left = 0; // don't cross the left window edge
        }

        let top = coords.top - tooltipElem.offsetHeight - 5;
        if (top < 0) {
          top = coords.top + target.offsetHeight + 5;
        }

        tooltipElem.style.left = left + 'px';
        tooltipElem.style.top = top + 'px';
      });

      document.addEventListener('mouseout', function (event) {
        if (tooltipElem) {
          tooltipElem.remove();
          tooltipElem = null;
        }
      });
    </script>
  </body>
</html>
